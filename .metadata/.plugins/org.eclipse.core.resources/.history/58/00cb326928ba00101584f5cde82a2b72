package Ejercicios.Ejercicio_44;

import java.io.File;
import java.util.Scanner;

import javax.xml.bind.JAXBContext;
import javax.xml.bind.JAXBException;
import javax.xml.bind.Unmarshaller;

public class Ej_44 {
	public static void main(String[] args) {

		boolean continuar = true;
		Scanner sc = new Scanner(System.in);
		Empresas empresas = new Empresas();
		File archivo = new File("src/Empresas.xml");
		if (archivo.exists()) {
			try {
				JAXBContext jaxbContext = JAXBContext.newInstance(Empresas.class);
				Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();
				empresas = (Empresas) unmarshaller.unmarshal(archivo);

			} catch (JAXBException e) {
				e.printStackTrace();
			}
		} else {
			empresas = new Empresas();
		}

		do {
			System.out.println("1 - Ver datos de las empresas");
			System.out.println("2 - Ver trabajadores");
			System.out.println("3 - A침adir trabajador (sin nifs duplicados)");
			System.out.println("4 - Modificar trabajador, por nif");
			System.out.println("5 - Borrar trabajador, por nif");
			System.out.println("6 - Salir");
			System.out.print("Elige una opci칩n (1-6): ");
			int opcion = Integer.parseInt(sc.nextLine());

			switch (opcion) {
			case 1:
				System.out.println("Empresas disponibles: " + empresas.getEmpresas().size());
				for (Empresa empresa : empresas.getEmpresas()) {
					System.out.println("\nEmpresa: " + empresa.getNombre());
					for (Trabajador trabajador : empresa.getListaTrabajadores()) {
				        System.out.println("Trabajador: " + trabajador.getNombre());
				    }
				}
				System.out.println();
				break;

			case 2:
				for (Empresa empresa : empresas.getEmpresas()) {
					for (Trabajador trabajador : empresa.getListaTrabajadores()) {
				        System.out.println("Trabajador: " + trabajador.getNombre());
				    }
				}
				break;

			case 3:

				break;

			case 4:

				break;

			case 5:

				break;
			case 6:
				System.out.println("Saliendo...");
				continuar = false;
				break;

			default:
				System.out.println("Opci칩n no v치lida");
			}
		} while (continuar);

	}

}
